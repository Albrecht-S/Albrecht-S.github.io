<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FLTK: How does resizing work?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FLTK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('resize.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">How does resizing work? </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This chapter describes the basic mechanism behind the creation of resizable user interface elements in FLTK.</p>
<p>FLTK uses a simple, but very versatile system to resize even the most complex dialogs and interfaces. The resizing is implemented within the <a class="el" href="classFl__Group.html" title="The Fl_Group class is the FLTK container widget. ">Fl_Group</a> widget, and the exact resizing behavior of that group is determined by its <a class="el" href="classFl__Group.html#ab0ed0d1974d7185594687849f386c5f3">resizable() </a> attribute.</p>
<h1><a class="anchor" id="resize_disabled"></a>
Resizing can be disabled</h1>
<div class="fragment"><div class="line">Summary:</div><div class="line">  group = <span class="keyword">new</span> <a class="code" href="classFl__Group.html">Fl_Group</a>(xg, yg, wg, hg, <span class="stringliteral">&quot;No Resizing&quot;</span>);</div><div class="line">  child1 = <span class="keyword">new</span> <a class="code" href="classFl__Box.html">Fl_Box</a>(xb, yb, wb, hb, <span class="stringliteral">&quot;B&quot;</span>); <span class="comment">// or other widget type</span></div><div class="line">  . . .</div><div class="line">  group-&gt;resizable(0); <span class="comment">// no resizing</span></div><div class="line">  group-&gt;end()</div></div><!-- fragment --><p>The <code>resizable</code> may be set to zero, which means that the group will not resize. Note that this is the default behavior for <a class="el" href="classFl__Window.html" title="This widget produces an actual window. ">Fl_Window</a> and <a class="el" href="classFl__Pack.html" title="This widget was designed to add the functionality of compressing and aligning widgets. ">Fl_Pack</a> derived widgets, and therefore the programmer must explicitly set the window's <code>resizable</code> attribute if they want to allow the window to be resized.</p>
<h1><a class="anchor" id="resize_simple"></a>
Resizing can be simple</h1>
<div class="fragment"><div class="line">Summary:</div><div class="line">  group = <span class="keyword">new</span> <a class="code" href="classFl__Group.html">Fl_Group</a>(xg, yg, wg, hg, <span class="stringliteral">&quot;Simple Resizing&quot;</span>);</div><div class="line">  child1 = <span class="keyword">new</span> <a class="code" href="classFl__Box.html">Fl_Box</a>(xb, yb, wb, hb, <span class="stringliteral">&quot;B&quot;</span>); <span class="comment">// or other widget type</span></div><div class="line">  . . .</div><div class="line">  group-&gt;resizable(group); <span class="comment">// simple proportional resizing</span></div><div class="line">  group-&gt;end()</div></div><!-- fragment --><p>The <code>resizable</code> may be set to the group itself, which means that all widgets within the group will resize as the group itself is resized. This is the default behavior for <a class="el" href="classFl__Group.html" title="The Fl_Group class is the FLTK container widget. ">Fl_Group</a> widgets, and is shown in the diagram below.</p>
<p>If the group is stretched horizontally, the widths of the widgets within the group are adjusted proportionally. The same is true for vertical resizing.</p>
<div class="image">
<img src="resize-example1.png" alt="resize-example1.png"/>
<div class="caption">
Figure 6.1: Proportional resizing example</div></div>
<h1><a class="anchor" id="resize_complex"></a>
Resizing can be complex</h1>
<div class="fragment"><div class="line">Summary:</div><div class="line">  group = <span class="keyword">new</span> <a class="code" href="classFl__Group.html">Fl_Group</a>(xg, yg, wg, hg, <span class="stringliteral">&quot;Complex Resizing&quot;</span>);</div><div class="line">  child1 = <span class="keyword">new</span> <a class="code" href="classFl__Box.html">Fl_Box</a>(xb, yb, wb, hb, <span class="stringliteral">&quot;B&quot;</span>); <span class="comment">// or other widget type</span></div><div class="line">  . . .</div><div class="line">  group-&gt;resizable(child1); <span class="comment">// complex resizing</span></div><div class="line">  group-&gt;end()</div></div><!-- fragment --><p>It is when the group's <code>resizable</code> attribute is set to one of the group's child widgets, that things become really interesting.</p>
<p>In the diagram below, imagine vertical lines extending from the left and right sides of the yellow widget marked "resizable", and horizontal lines extending from the top and bottom sides. Exactly which widgets resize, and by how much, is determined by which ones lie completely or partially within this cross.</p>
<p>The widgets marked B, C, J, K and M clearly lie completely or partially within the vertical part of the cross; the widgets marked E, F, G, H and N lie completely or partially within the horizontal part of the cross; and the widgets marked A, D, I and L do not overlap with the cross at all. The resizing behavior is as follows:</p>
<ul>
<li>the width and height of the <code>resizable</code> widget increase to match the change in the width and height of the group widget as it is stretched;</li>
</ul>
<ul>
<li>the widths of those widgets that overlap with the vertical part of the cross increase proportionally as the width of the group widget increases, but their heights remain unchanged, i.e. the widgets marked B, C, J, K and M;</li>
</ul>
<ul>
<li>the heights of those widgets that overlap with the horizontal part of the cross increase proportionally as the height of the group widget increases, but their widths remain unchanged, i.e. the widgets marked E, F, G, H and N;</li>
</ul>
<ul>
<li>the widths and heights of the remaining widgets stay the same, i.e. the widgets marked A, D, I and L stay the same size.</li>
</ul>
<div class="image">
<img src="resize-example2.png" alt="resize-example2.png"/>
<div class="caption">
Figure 6.2: Complex resizing example</div></div>
<h1><a class="anchor" id="resize_practical"></a>
Practical examples</h1>
<p>Why is this so powerful, you may ask. Well, every widget group can have a completely independent resizing strategy. By replacing one or more of the group's "normal" child widgets with another group widget where all of the above rules can be applied again, it is possible to create a hierarchy of group widgets with very complex layouts and resizing behavior.</p>
<p>Consider a simple dialog box, consisting of an icon box and a message area on the top and a button at the bottom right: which widget should be the <code>resizable</code> one?</p>
<p>Setting the <code>resizable</code> to be the icon box won't give us what we want:</p>
<div class="image">
<img src="resize-example3a.png" alt="resize-example3a.png"/>
<div class="caption">
Figure 6.3: Resizing dialog example (a)</div></div>
<p>The message text area would be the logical choice so that the user can expand the dialog to see if there is more of an explanation below the short error message. This results in the behaviour shown in the diagram below.</p>
<div class="image">
<img src="resize-example3b.png" alt="resize-example3b.png"/>
<div class="caption">
Figure 6.4: Resizing dialog example (b)</div></div>
<p>The result is close to what we want, but not quite: the text area will fully resize, the "!" icon box will resize vertically but not horizontally, which we can live with, but the "Darn!" button will - wait a minute - resize horizontally?</p>
<p>That's ugly. How do we stop that from happening? Simple: put it in its own group and set the <code>resizable</code> to an invisible box widget, as shown in the diagram below.</p>
<div class="image">
<img src="resize-example3c.png" alt="resize-example3c.png"/>
<div class="caption">
Figure 6.5: Resizing dialog example (c)</div></div>
<p>Now the invisible box, shown as "R", takes all of the horizontal resizing and the "Darn!" box will stay as it is. Here's the skeleton code:</p>
<div class="fragment"><div class="line">dialog = <span class="keyword">new</span> <a class="code" href="classFl__Window.html">Fl_Window</a>(300, 100);</div><div class="line">  icon = <span class="keyword">new</span> <a class="code" href="classFl__Box.html">Fl_Box</a>(0, 0, 50, 50, <span class="stringliteral">&quot;!&quot;</span>);</div><div class="line">  text = <span class="keyword">new</span> <a class="code" href="classFl__Box.html">Fl_Box</a>(50, 0, 250, 40, <span class="stringliteral">&quot;Out of Memory Error&quot;</span>);</div><div class="line">  btns = <span class="keyword">new</span> <a class="code" href="classFl__Group.html">Fl_Group</a>(50, 50, 250, 50); <span class="comment">// parent group</span></div><div class="line">  darn = <span class="keyword">new</span> <a class="code" href="classFl__Button.html">Fl_Button</a>(200, 50, 100, 50, <span class="stringliteral">&quot;Darn!&quot;</span>);</div><div class="line">     R = <span class="keyword">new</span> <a class="code" href="classFl__Box.html">Fl_Box</a>(50, 50, 150, 50);   <span class="comment">// &quot;invisible&quot; box &quot;R&quot;</span></div><div class="line">     R-&gt;hide();                         <span class="comment">// make sure it&#39;s invisible</span></div><div class="line">  btns-&gt;resizable(R);                   <span class="comment">// make &quot;R&quot; parent group resizable</span></div><div class="line">  btns-&gt;end();</div><div class="line">dialog-&gt;resizable(text);</div><div class="line">dialog-&gt;end();</div></div><!-- fragment --><p>Imagine instead that you have a group that has a button, an input field, another button and a second input field, all next to each other, and you want the input fields to resize equally, but not the buttons. How could you achieve this?</p>
<p>Setting either of the input fields to be the <code>resizable</code> leaves the other one fixed, as shown below:</p>
<div class="image">
<img src="resize-example4a.png" alt="resize-example4a.png"/>
<div class="caption">
Figure 6.6: Resizing input fields example (a)</div></div>
<p>The answer is to leave the <code>resizable</code> of the group set to itself, and to create two equal size subgroups, each of which will resize equally. Add a button and input field to each subgroup, and set each subgroup's <code>resizable</code> to the input field, as shown below. Tada!</p>
<div class="image">
<img src="resize-example4b.png" alt="resize-example4b.png"/>
<div class="caption">
Figure 6.7: Resizing input fields example (b)</div></div>
<p>In FLTK it is possible to solve almost any layout and resizing problem by introducing an invisible box into a group, or an extra group into the widget hierarchy. It might take some thought to achieve exactly what you want and sometimes it is necessary to introduce parallel hierarchies in order to get widgets in different groups to resize together.</p>
<p> 
<hr>
<table summary="navigation bar" width="100%" border="0">
<tr>
  <td width="45%" align="LEFT">
    <a class="el" href="common.html">
    [Prev]
    Common Widgets and Attributes
    </a>
  </td>
  <td width="10%" align="CENTER">
    <a class="el" href="index.html">[Index]</a>
  </td>
  <td width="45%" align="RIGHT">
    <a class="el" href="editor.html">
    Designing a Simple Text Editor
    [Next]
    </a>
  </td>
</tr>
</table>
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->

    <li class="footer">
      <!-- Generated for FLTK by Doxygen -->
      &copy; 1998-2020 by Bill Spitzak and others. &nbsp;&nbsp;&nbsp;
      <a href="https://www.fltk.org"><img src="tiny.png" align="bottom" alt="FLTK"></a>
     </li>
   </ul>
 </div>
</body>
</html>
